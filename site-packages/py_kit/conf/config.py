# -*- coding: utf-8 -*-



import os
import configparser



def load_config(configfile):
    default_values = {
        'main': {
            "log_level": "debug",
            "workdir": "/usr/share/cve-ease/",
            "db_type": "sqlite",
            "db_file": "cve-ease.db",
            "db_user": "",
            "db_password": "",
            "db_host": "",
            "db_port": "",
            "log_file": "cve-ease.log",
            "pid_file": "cve-ease.pid",
            "lock_file": "cve-ease.lock",
        }
    }
    gconfig = configparser.ConfigParser()
    # read default config from default ditct
    gconfig.read_dict(default_values)
    if not os.path.exists(configfile):
        print("%s config file not found!" % configfile)
        exit(1)
    # reload config from configfile
    gconfig.read(configfile)
    return gconfig


